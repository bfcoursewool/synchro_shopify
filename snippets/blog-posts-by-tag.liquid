{% assign showPagination = showPagination | default: false %}
{% assign paginate = paginate | default: 100 %}
{% assign containerClass = containerClass | default: 'row' %}
{% assign itemClass = itemClass | default: 'post' %}
{% assign tag = tag | default: 'all' %}

{% paginate blogs.blog.articles by paginate %}
  {% assign count = 0 %}
  {% assign limit = limit or paginate %}

  <div class="{{ containerClass }}">
    {% for article in blogs.blog.articles %}
      {% if article.tags contains tag or tag == 'all' %}

        {% assign count = count | plus: 1 %}
        {% if count > limit %}
          {% break %}
        {% endif %}
        <div class="{{ itemClass }}">
          <img alt="{{ article.img.alt }}" src="{{ article.image.src | img_url: '300x200' }}" />

          <div class="post-inner">
            <h3>{{ article.title }}</h3>
            <p>{{ article.excerpt_or_content | strip_html | truncate: 150 }}</p>
            <a class="read-more" href="{{ article.url }}"><span>Read more</span></a>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>

  <div class="pagination">
    <a
      {% if paginate.next.is_link %}
        href="{{ paginate.previous.url }}"
      {% else %}
        class="disabled"
        disabled
      {% endif %}
    >
      Previous
    </a>

    <a
      {% if paginate.next.is_link %}
        href="{{ paginate.next.url }}"
      {% else %}
        class="disabled"
        disabled
      {% endif %}
    >
      Next
    </a>
  </div>

{% endpaginate %}
